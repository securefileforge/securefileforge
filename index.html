<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SecureFileForge – Free Offline File Converter</title>
  <meta name="description" content="100% free offline file converter. No upload, no limits. Convert PDF, Word, video to MP3, HEIC to JPG, EPUB — works without internet. Turbo $3/mo = ad-free + batch.">
  <meta name="google-adsense-account" content="ca-pub-3194426012596897">
  <style>
    :root{--p:#1e40af;--t:#16a34a;--bg:#f9fafb}body{margin:0;font-family:system-ui,sans-serif;background:var(--bg);color:#111;line-height:1.6}.dark{background:#000;color:#eee}#c{max-width:960px;margin:auto;padding:20px}h1{color:var(--p);text-align:center}#d{border:4px dashed var(--p);padding:80px 20px;border-radius:20px;text-align:center;background:#fff;margin:40px 0}button{background:var(--p);color:#fff;border:none;padding:16px 36px;border-radius:12px;font-size:19px;cursor:pointer;margin:10px}.tb{background:var(--t)!important}#s{margin-top:20px;font-weight:bold}.ad-free .ads{display:none}
  </style>
</head>
<body>
<div id="c">
  <h1>SecureFileForge</h1>
  <p style="text-align:center;font-size:18px">PDF • Word • Video to MP3 • HEIC to JPG • EPUB • 500+ formats<br><b>No upload • 100% offline • Works without internet</b></p>
  <button onclick="document.body.classList.toggle('dark')">Dark Mode</button>
  <div id="d">
    Drop files here or <button onclick="f.click()">Choose Files</button>
    <input type="file" id="f" multiple style="display:none">
    <div id="s"></div>
  </div>

  <div style="text-align:center;margin:60px 0">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3194426012596897" crossorigin="anonymous"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3194426012596897" data-ad-slot="1234567890" data-ad-format="auto"></ins>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

    <div style="margin-top:40px">
      <a href="https://buymeacoffee.com/securefileforge" target="_blank">Buy Me a Coffee</a> • 
      <button class="tb" onclick="goTurbo()">Turbo $3/month</button>
    </div>
  </div>
  <div id="q"></div>
</div>

<!-- WORKING CONVERTER LIBRARY (this is the fix) -->
<script src="https://cdn.jsdelivr.net/npm/fileconverter-browser@1.2.3/dist/fileconverter.min.js"></script>
<script>
// Wait until fileConverter is fully loaded
function waitForConverter() {
  if (typeof fileConverter !== 'undefined') return;
  setTimeout(waitForConverter, 200);
}
waitForConverter();
</script>
<script src="https://js.stripe.com/v3/"></script>
<script>
const stripe = Stripe('pk_test_51SZJz98UuzDsIradTjC3PIITnRkmbwOBSXhXxdNICuePJd9tcRr1YvSvdZuNmf0lP1ixNTeh6xrXJE8L1yDDvEO800GgzTLUl9'); // ← your real key

let turbo = localStorage.getItem('sff_turbo') === 'active';
let max = turbo ? 10 : 1;
document.getElementById('s').innerHTML = turbo ? '<span style="background:#16a34a;color:#fff;padding:6px 12px;border-radius:20px">Turbo Active – Up to 10 files</span>' : 'Free – 1 file at a time';
if (turbo) document.body.classList.add('ad-free');

function goTurbo() {
  stripe.redirectToCheckout({
    lineItems: [{price: 'price_1SZK2G8UuzDsIradYWr4a2Ne', quantity: 1}],
    mode: 'subscription',
    successUrl: location.href,
    cancelUrl: location.href
  });
}

function handleFiles(files) {
  if (typeof fileConverter === 'undefined') {
    alert('Converter still loading… try again in 5 seconds');
    return;
  }
  if (files.length > max) return alert(`Max ${max} files`);
  const q = document.getElementById('q'); q.innerHTML = '<h3>Queue</h3>';
  Array.from(files).forEach((file, i) => {
    let div = document.createElement('div'); div.textContent = file.name + ' – processing
