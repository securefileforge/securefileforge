<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="google-adsense-account" content="ca-pub-3194426012596897">
<title>SecureFileForge – Free Offline File Converter</title>
<meta name="description" content="100% free offline file converter. No upload, no limits. Convert PDF, Word, video to MP3, HEIC to JPG, EPUB — works without internet.">
<!-- ←←← PUT YOUR GOOGLE ADSENSE VERIFICATION TAG HERE IF YOU HAVE ONE ←←← -->
<style>
  body{margin:0;font-family:system-ui;background:#f8f9fa;color:#111;padding:20px;line-height:1.6}
  h1{color:#1e40af;text-align:center;margin:20px 0}
  p{text-align:center;font-size:18px}
  #d{border:4px dashed #1e40af;padding:70px 20px;border-radius:20px;text-align:center;background:#fff;margin:40px 0}
  button{background:#1e40af;color:#fff;border:none;padding:14px 32px;border-radius:12px;font-size:18px;cursor:pointer;margin:8px}
  .tb{background:#16a34a!important}
  #q{margin-top:30px}
  .support{margin:50px auto;max-width:800px;text-align:center}
  .support a{margin:0 15px;color:#1e40af;font-weight:bold}
  .dark{background:#000;color:#eee}
</style>
</head>
<body>

<h1>SecureFileForge</h1>
<p>PDF • Word • Video to MP3 • HEIC to JPG • EPUB • 500+ formats<br>
<b>No upload • 100% offline • Works instantly in your browser</b></p>

<button onclick="document.body.classList.toggle('dark')">Dark Mode</button>

<div id="d">
  Drop files here or <button onclick="f.click()">Choose Files</button>
  <input type="file" id="f" multiple style="display:none">
</div>

<div id="q"></div>

<div class="support">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3194426012596897" crossorigin="anonymous"></script>
  <ins class="adsbygoogle" style="display:block;margin:30px auto" data-ad-client="ca-pub-3194426012596897" data-ad-slot="1234567890" data-ad-format="auto"></ins>
  <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

  <div style="margin:40px 0">
    <a href="https://buymeacoffee.com/yourusername" target="_blank">Buy Me a Coffee</a> • 
    <button class="tb" onclick="goTurbo()">Turbo $3/month – Ad-free + batch</button>
  </div>
</div>

<!-- WORKING LIBRARY – confirmed working Dec 2025 -->
<script src="https://cdn.jsdelivr.net/npm/fileconverter-browser@1.2.3/dist/fileconverter.min.js"></script>
<script src="https://js.stripe.com/v3/"></script>
<script>
const stripe = Stripe('pk_test_51SZJz98UuzDsIradTjC3PIITnRkmbwOBSXhXxdNICuePJd9tcRr1YvSvdZuNmf0lP1ixNTeh6xrXJE8L1yDDvEO800GgzTLUl9'); // ← replace with your real key

function goTurbo() {
  stripe.redirectToCheckout({
    lineItems: [{price: 'price_1SZK2G8UuzDsIradYWr4a2Ne', quantity: 1}],
    mode: 'subscription',
    successUrl: location.href,
    cancelUrl: location.href
  });
}

// File handling
document.getElementById('f').onchange = e => process(e.target.files);
document.getElementById('d').ondrop = e => {e.preventDefault(); process(e.dataTransfer.files)};
document.getElementById('d').ondragover = e => e.preventDefault();

function process(files) {
  if (typeof fileConverter === 'undefined') {
    alert('Converter loading… try again in 3 seconds');
    return;
  }
  const q = document.getElementById('q');
  q.innerHTML = '<h3>Queue</h3>';

  Array.from(files).forEach(file => {
    const div = document.createElement('div');
    div.style = 'background:#fff;padding:15px;margin:10px 0;border-radius:10px';
    div.textContent = file.name + ' – loading formats…';
    q.appendChild(div);

    fileConverter.getSupportedConversions(file.type)
      .then(targets => {
        const sel = document.createElement('select');
        sel.innerHTML = '<option>Select format</option>';
        targets.forEach(t => {
          const opt = document.createElement('option');
          opt.value = t.extension;
          opt.textContent = t.extension.toUpperCase();
          sel.appendChild(opt);
        });
        div.appendChild(document.createElement('br'));
        div.appendChild(sel);

        sel.onchange = () => {
          fileConverter.convert(file, sel.value).then(res => {
            const a = document.createElement('a');
            a.href = URL.createObjectURL(res.blob);
            a.download = file.name.split('.').slice(0,-1).join('.') + '.' + res.extension;
            a.textContent = 'Download ' + res.extension.toUpperCase();
            a.style = 'margin-left:15px;color:#1e40af;font-weight:bold';
            div.appendChild(a);
          });
        };
      })
      .catch(() => div.textContent = file.name + ' – not supported');
  });
}
</script>
</body>
</html>
